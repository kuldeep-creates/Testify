"use strict";(self.webpackChunktestify=self.webpackChunktestify||[]).push([[902],{1902:(e,a,s)=>{s.r(a),s.d(a,{default:()=>c});var i=s(5982),l=s(5043),r=s(5352),t=s(791),n=s(5452),o=s(1978),d=s(579);const c=function(){const e=(0,r.Zp)(),[a,s]=(0,l.useState)(""),[c,m]=(0,l.useState)(""),[u,g]=(0,l.useState)(""),[h,p]=(0,l.useState)(""),[b,v]=(0,l.useState)(!1),[f,w]=(0,l.useState)({email:"",password:""}),[y,x]=(0,l.useState)(!1),[N,j]=(0,l.useState)(""),k=(0,r.zy)();return(0,l.useEffect)(()=>{const e=new URLSearchParams(k.search);"true"===e.get("registered")?((0,o.Te)("Registration successful! Please check your email to verify your account before signing in."),window.history.replaceState({},document.title,k.pathname)):"true"===e.get("verified")&&((0,o.Te)("\ud83c\udf89 Email verified successfully! You can now sign in to access your account."),window.history.replaceState({},document.title,k.pathname))},[k]),(0,d.jsxs)("div",{className:"login-container",role:"main",children:[(0,d.jsx)("div",{className:"login-background login-bg-1"}),(0,d.jsx)("div",{className:"login-background login-bg-2"}),(0,d.jsx)("div",{className:"login-background login-bg-3"}),(0,d.jsx)("div",{className:"login-background login-bg-4"}),(0,d.jsxs)("div",{className:"login-main",children:[(0,d.jsxs)("div",{className:"login-header",children:[(0,d.jsx)("h1",{className:"login-title",children:"Welcome Back"}),(0,d.jsx)("p",{className:"login-subtitle",children:"Sign in to continue"})]}),(0,d.jsxs)("div",{className:"login-card",children:[u&&(0,d.jsx)("div",{className:"login-error",role:"alert","aria-live":"assertive",children:(0,d.jsx)("span",{children:u})}),h&&(0,d.jsx)("div",{className:"login-success",role:"status","aria-live":"polite",children:(0,d.jsx)("span",{children:h})}),(0,d.jsxs)("form",{className:"login-form",onSubmit:async s=>{s.preventDefault(),g(""),p("");const l={email:"",password:""};if(a.trim()||(l.email="Email is required"),c.length<6&&(l.password="Password must be at least 6 characters"),w(l),!l.email&&!l.password){v(!0);try{const s=a.trim();await(0,i.x9)(t.j2,s,c),p("Login successful! Redirecting..."),setTimeout(()=>e("/dashboard"),800)}catch(r){n.A.error("Login failed",{errorCode:r.code,errorMessage:r.message},r);g({"auth/invalid-credential":"Invalid email or password. Please try again.","auth/wrong-password":"Incorrect password. Try again or reset it.","auth/user-not-found":"No account found for this email. Please create one.","auth/too-many-requests":"Too many attempts. Please wait a bit and try again."}[r.code]||"Failed to sign in. Please try again.")}finally{v(!1)}}},"aria-describedby":"form-help",children:[(0,d.jsxs)("div",{className:"login-form-fields",children:[(0,d.jsxs)("div",{className:"login-field",children:[(0,d.jsx)("label",{className:"login-label",htmlFor:"email",children:"Email"}),(0,d.jsx)("input",{id:"email",type:"email",className:"login-input",placeholder:"Email",value:a,onChange:e=>s(e.target.value),required:!0,"aria-invalid":!!f.email,"aria-describedby":f.email?"email-error":void 0}),f.email&&(0,d.jsx)("div",{id:"email-error",className:"login-error-message",role:"alert",children:f.email})]}),(0,d.jsxs)("div",{className:"login-field",children:[(0,d.jsx)("label",{className:"login-label",htmlFor:"password",children:"Password"}),(0,d.jsx)("input",{id:"password",type:"password",className:"login-input",placeholder:"Password",value:c,onChange:e=>m(e.target.value),required:!0,"aria-invalid":!!f.password,"aria-describedby":f.password?"password-error":void 0}),f.password&&(0,d.jsx)("div",{id:"password-error",className:"login-error-message",role:"alert",children:f.password})]}),(0,d.jsx)("div",{className:"login-forgot-password",children:y?(0,d.jsxs)("div",{className:"forgot-password-form",children:[(0,d.jsx)("label",{className:"login-label",htmlFor:"resetEmail",children:"Enter your email to reset password:"}),(0,d.jsxs)("div",{className:"forgot-password-input-group",children:[(0,d.jsx)("input",{id:"resetEmail",type:"email",className:"login-input",placeholder:"Enter your email",value:N,onChange:e=>j(e.target.value)}),(0,d.jsxs)("div",{className:"forgot-password-buttons",children:[(0,d.jsx)("button",{type:"button",className:"btn btn-secondary btn-small",onClick:()=>{x(!1),j("")},children:"Cancel"}),(0,d.jsx)("button",{type:"button",className:"btn btn-primary btn-small",onClick:async()=>{if(N.trim())try{await(0,i.J1)(t.j2,N.trim()),(0,o.Te)("Password reset email sent! Please check your inbox."),x(!1),j("")}catch(u){n.A.error("Error sending password reset email",{errorCode:u.code,errorMessage:u.message});const a={"auth/user-not-found":"No account found with this email address.","auth/invalid-email":"Please enter a valid email address.","auth/too-many-requests":"Too many requests. Please wait a moment and try again."};(0,o.Qg)(a[u.code]||"Failed to send password reset email. Please try again.")}else(0,o.Qg)("Please enter your email address first.")},children:"Send Reset Email"})]})]})]}):(0,d.jsx)("button",{type:"button",className:"forgot-password-link",onClick:()=>x(!0),children:"Forgot Password?"})}),(0,d.jsx)("button",{className:"btn btn-primary ".concat(b?"btn-loading":""),type:"submit",disabled:b,children:b?"Signing in...":"Sign In"})]}),(0,d.jsxs)("div",{className:"login-link-container",children:[(0,d.jsx)("span",{className:"login-link-text",children:"Don't have an account? "}),(0,d.jsx)(r.N_,{to:"/register",className:"login-link","aria-label":"Create New Account",children:"Sign Up"})]})]})]})]})]})}},1978:(e,a,s)=>{s.d(a,{Qg:()=>l,Te:()=>i,cf:()=>r,fN:()=>t});const i=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(e.includes("exported")||e.includes("submitted")||e.includes("updated"))&&alert(e),a&&setTimeout(a,100)},l=function(e){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;alert(e),a&&setTimeout(a,100)},r=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a&&setTimeout(a,100)},t=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=window.confirm(e);return i&&a?a():!i&&s&&s(),i}}}]);
//# sourceMappingURL=902.20bc5554.chunk.js.map