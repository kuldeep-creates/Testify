"use strict";(self.webpackChunktestify=self.webpackChunktestify||[]).push([[333],{333:(e,s,r)=>{r.r(s),r.d(s,{default:()=>m});var a=r(5982),i=r(6667),t=r(5043),n=r(5352),l=r(791),o=r(5452),c=r(1978),d=(r(7951),r(579));const m=function(){const e=(0,n.Zp)(),[s,r]=(0,t.useState)(""),[m,u]=(0,t.useState)(""),[h,g]=(0,t.useState)(""),[p,x]=(0,t.useState)(""),[j,v]=(0,t.useState)(""),[f,N]=(0,t.useState)(!1),[k,b]=(0,t.useState)(""),[w,y]=(0,t.useState)(!1),[C,S]=(0,t.useState)(!1),L=(0,n.zy)(),[,A]=(0,t.useState)(!1),[M,P]=(0,t.useState)(!1),[F,T]=(0,t.useState)("");return(0,t.useEffect)(()=>{"verifyEmail"===new URLSearchParams(L.search).get("mode")&&((0,c.Te)("Email verified successfully! Please sign in."),window.history.replaceState({},document.title,L.pathname))},[L]),M?(0,d.jsxs)("div",{className:"register-container",role:"main",children:[(0,d.jsx)("div",{className:"register-background"}),(0,d.jsx)("div",{className:"register-background"}),(0,d.jsx)("div",{className:"register-background"}),(0,d.jsx)("div",{className:"register-background"}),(0,d.jsx)("div",{className:"register-main",children:(0,d.jsxs)("div",{className:"confirmation-card",children:[(0,d.jsx)("div",{className:"confirmation-icon",children:(0,d.jsx)("svg",{className:"confirmation-check",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,d.jsx)("h2",{className:"confirmation-title",children:"Registration Successful!"}),(0,d.jsxs)("p",{className:"confirmation-message",children:["A confirmation email has been sent to ",(0,d.jsx)("strong",{children:F})]}),(0,d.jsxs)("div",{className:"confirmation-steps",children:[(0,d.jsx)("h3",{children:"Next Steps:"}),(0,d.jsxs)("ol",{children:[(0,d.jsx)("li",{children:"Check your email inbox (and spam folder)"}),(0,d.jsx)("li",{children:"Click the verification link in the email"}),(0,d.jsx)("li",{children:"You'll be redirected to your dashboard"})]})]}),(0,d.jsxs)("div",{className:"confirmation-actions",children:[(0,d.jsx)("button",{className:"btn btn-primary",onClick:()=>e("/login"),children:"Go to Login"}),(0,d.jsx)("button",{className:"btn btn-secondary",onClick:()=>{P(!1),r(""),u(""),g(""),b("")},children:"Register Another Account"})]}),(0,d.jsx)("div",{className:"confirmation-help",children:(0,d.jsx)("p",{children:"Didn't receive the email? Check your spam folder or contact support."})})]})})]}):(0,d.jsxs)("div",{className:"register-container",role:"main",children:[(0,d.jsx)("div",{className:"register-background"}),(0,d.jsx)("div",{className:"register-background"}),(0,d.jsx)("div",{className:"register-background"}),(0,d.jsx)("div",{className:"register-background"}),(0,d.jsxs)("div",{className:"register-main",children:[(0,d.jsx)("div",{className:"register-header",children:(0,d.jsx)("h1",{className:"register-title",children:"Create Account"})}),(0,d.jsxs)("div",{className:"register-card",children:[p&&(0,d.jsx)("div",{className:"register-error",role:"alert","aria-live":"assertive",children:(0,d.jsx)("span",{className:"register-error-text",children:p})}),j&&(0,d.jsx)("div",{className:"register-success",role:"status","aria-live":"polite",children:(0,d.jsx)("span",{className:"register-success-text",children:j})}),(0,d.jsxs)("form",{className:"register-form",onSubmit:async e=>{if(e.preventDefault(),x(""),v(""),m===h){N(!0);try{const e=s.trim(),t=(await(0,a.eJ)(l.j2,e,m)).user;await(0,a.r7)(t,{displayName:k});try{await(0,i.setDoc)((0,i.doc)(l.db,"user",t.uid),{userId:t.uid,name:k,email:e,role:"candidate",blocked:!1,domain:"Full Stack",emailVerified:!1,createdAt:(0,i.serverTimestamp)(),lastLogin:(0,i.serverTimestamp)()},{merge:!0})}catch(r){o.A.warn("Profile creation failed during registration",{errorCode:r.code,errorMessage:r.message})}await(async e=>{try{const s={url:"https://testify.kuldeep.space/?verified=true",handleCodeInApp:!1};await(0,a.gA)(e,s),A(!0),(0,c.Te)("Verification email sent to ".concat(e.email,". Please check your inbox and spam folder.")),o.A.info("Verification email sent successfully",{email:e.email,uid:e.uid,actionUrl:s.url})}catch(p){o.A.error("Error sending verification email",{errorCode:p.code,errorMessage:p.message,email:e.email}),(0,c.Qg)("Failed to send verification email. Please try again later.")}})(t),await l.j2.signOut(),T(e),P(!0)}catch(t){o.A.error("Registration failed",{errorCode:t.code,errorMessage:t.message},t);x({"auth/email-already-in-use":"This email is already registered. Sign in instead.","auth/invalid-email":"Please enter a valid email address.","auth/weak-password":"Password should be at least 6 characters."}[t.code]||t.message||"Failed to create account")}finally{N(!1)}}else x("Passwords do not match")},"aria-describedby":"form-help",children:[(0,d.jsxs)("div",{className:"register-form-fields",children:[(0,d.jsxs)("div",{className:"register-field",children:[(0,d.jsx)("label",{className:"register-label",htmlFor:"name",children:"Full Name"}),(0,d.jsx)("input",{id:"name",type:"text",className:"register-input",placeholder:"Full name",value:k,onChange:e=>b(e.target.value),required:!0})]}),(0,d.jsxs)("div",{className:"register-field",children:[(0,d.jsx)("label",{className:"register-label",htmlFor:"email",children:"Email"}),(0,d.jsx)("input",{id:"email",type:"email",className:"register-input",placeholder:"Email",value:s,onChange:e=>r(e.target.value),required:!0})]}),(0,d.jsxs)("div",{className:"register-field",children:[(0,d.jsx)("label",{className:"register-label",htmlFor:"password",children:"Password"}),(0,d.jsxs)("div",{className:"register-password-container",children:[(0,d.jsx)("input",{id:"password",type:w?"text":"password",className:"register-input",placeholder:"Password",value:m,onChange:e=>u(e.target.value),required:!0}),(0,d.jsx)("button",{type:"button",className:"register-password-toggle",onClick:()=>y(!w),"aria-label":w?"Hide password":"Show password",children:w?(0,d.jsx)("svg",{className:"register-password-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):(0,d.jsxs)("svg",{className:"register-password-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),(0,d.jsxs)("div",{className:"register-field",children:[(0,d.jsx)("label",{className:"register-label",htmlFor:"confirmPassword",children:"Confirm Password"}),(0,d.jsxs)("div",{className:"register-password-container",children:[(0,d.jsx)("input",{id:"confirmPassword",type:C?"text":"password",className:"register-input",placeholder:"Confirm Password",value:h,onChange:e=>g(e.target.value),required:!0}),(0,d.jsx)("button",{type:"button",className:"register-password-toggle",onClick:()=>S(!C),"aria-label":C?"Hide confirm password":"Show confirm password",children:C?(0,d.jsx)("svg",{className:"register-password-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):(0,d.jsxs)("svg",{className:"register-password-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]})]}),(0,d.jsx)("button",{className:"btn btn-primary ".concat(f?"btn-loading":""),type:"submit",disabled:f,children:f?"Creating Account...":"Create Account"}),(0,d.jsxs)("div",{className:"register-link-container",children:[(0,d.jsx)("span",{className:"register-link-text",children:"Already have an account? "}),(0,d.jsx)(n.N_,{to:"/",className:"register-link","aria-label":"Sign In",children:"Sign In"})]})]})]})]})]})}},1978:(e,s,r)=>{r.d(s,{Qg:()=>i,Te:()=>a,cf:()=>t,fN:()=>n});const a=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(e.includes("exported")||e.includes("submitted")||e.includes("updated"))&&alert(e),s&&setTimeout(s,100)},i=function(e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;alert(e),s&&setTimeout(s,100)},t=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;s&&setTimeout(s,100)},n=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const a=window.confirm(e);return a&&s?s():!a&&r&&r(),a}},7951:()=>{}}]);
//# sourceMappingURL=333.4de72309.chunk.js.map